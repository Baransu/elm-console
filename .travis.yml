language: haskell
install:
  - git clone https://github.com/elm-lang/Elm.git
  - cd Elm
  - cabal sandbox init
  - cabal install
  - cd ..
  - cabal sandbox init
  - cabal sandbox add-source Elm
  - cabal install
  - sudo ln -s .cabal-sandbox/bin/elm    /usr/local/bin/elm
  - sudo ln -s .cabal-sandbox/bin/elm-io /usr/local/bin/elm-io
  - npm install jsdom
before_script: elm-io test/Test.elm test.js
script: echo "exit" | node test.js > /dev/null
